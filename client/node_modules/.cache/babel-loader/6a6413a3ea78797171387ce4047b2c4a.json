{"ast":null,"code":"import axios from 'axios';\nimport { API_URL } from '../config';\nimport { setAvailableCabs, setEmployees } from '../reducers/employeeReducer';\nexport const getEmployees = () => {\n  return async dispatch => {\n    try {\n      const response = await axios.get(`${API_URL}api/employees`, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      dispatch(setEmployees(response.data));\n    } catch (e) {\n      var _e$response, _e$response$data;\n\n      console.log(e === null || e === void 0 ? void 0 : (_e$response = e.response) === null || _e$response === void 0 ? void 0 : (_e$response$data = _e$response.data) === null || _e$response$data === void 0 ? void 0 : _e$response$data.message);\n    }\n  };\n};\nexport const getCabs = employee => {\n  return async dispatch => {\n    try {\n      const response = await axios.get(`${API_URL}api/cabs`, {\n        headers: {\n          \"Authorization\": `Bearer ${localStorage.getItem('token')}`,\n          \"employee\": employee\n        }\n      });\n      console.log(response);\n      dispatch(setAvailableCabs(response.data));\n    } catch (e) {\n      var _e$response2, _e$response2$data;\n\n      console.log(e === null || e === void 0 ? void 0 : (_e$response2 = e.response) === null || _e$response2 === void 0 ? void 0 : (_e$response2$data = _e$response2.data) === null || _e$response2$data === void 0 ? void 0 : _e$response2$data.message);\n    }\n  };\n};","map":{"version":3,"sources":["C:/course_work_db/client/src/actions/employees.js"],"names":["axios","API_URL","setAvailableCabs","setEmployees","getEmployees","dispatch","response","get","headers","Authorization","localStorage","getItem","data","e","console","log","message","getCabs","employee"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,WAAxB;AACA,SAASC,gBAAT,EAA2BC,YAA3B,QAA+C,6BAA/C;AAEA,OAAO,MAAMC,YAAY,GAAI,MAAM;AAC/B,SAAO,MAAMC,QAAN,IAAkB;AACzB,QAAI;AAEA,YAAMC,QAAQ,GAAG,MAAMN,KAAK,CAACO,GAAN,CAClB,GAAEN,OAAQ,eADQ,EAEvB;AACIO,QAAAA,OAAO,EAAC;AAACC,UAAAA,aAAa,EAAG,UAASC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8B;AAAxD;AADZ,OAFuB,CAAvB;AAMAN,MAAAA,QAAQ,CAACF,YAAY,CAACG,QAAQ,CAACM,IAAV,CAAb,CAAR;AACH,KATD,CASE,OAAOC,CAAP,EAAU;AAAA;;AACRC,MAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ,aAAYA,CAAZ,sCAAYA,CAAC,CAAEP,QAAf,oEAAY,YAAaM,IAAzB,qDAAY,iBAAmBI,OAA/B;AACH;AACA,GAbD;AAcH,CAfM;AAiBP,OAAO,MAAMC,OAAO,GAAKC,QAAD,IAAc;AAClC,SAAO,MAAMb,QAAN,IAAkB;AACzB,QAAI;AAEA,YAAMC,QAAQ,GAAG,MAAMN,KAAK,CAACO,GAAN,CAClB,GAAEN,OAAQ,UADQ,EAEvB;AACIO,QAAAA,OAAO,EAAC;AAAC,2BAAkB,UAASE,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8B,EAA1D;AACZ,sBAAYO;AADA;AADZ,OAFuB,CAAvB;AAOAJ,MAAAA,OAAO,CAACC,GAAR,CAAYT,QAAZ;AACAD,MAAAA,QAAQ,CAACH,gBAAgB,CAACI,QAAQ,CAACM,IAAV,CAAjB,CAAR;AACH,KAXD,CAWE,OAAOC,CAAP,EAAU;AAAA;;AACRC,MAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ,aAAYA,CAAZ,uCAAYA,CAAC,CAAEP,QAAf,sEAAY,aAAaM,IAAzB,sDAAY,kBAAmBI,OAA/B;AACH;AACA,GAfD;AAgBH,CAjBM","sourcesContent":["import axios from 'axios'\r\nimport { API_URL } from '../config'\r\nimport { setAvailableCabs, setEmployees } from '../reducers/employeeReducer'\r\n\r\nexport const getEmployees =  () => {\r\n    return async dispatch => {\r\n    try {\r\n        \r\n        const response = await axios.get(\r\n            `${API_URL}api/employees`, \r\n        {\r\n            headers:{Authorization: `Bearer ${localStorage.getItem('token')}`}\r\n        }\r\n        )\r\n        dispatch(setEmployees(response.data))\r\n    } catch (e) {\r\n        console.log(e?.response?.data?.message)\r\n    }\r\n    }\r\n}\r\n\r\nexport const getCabs =  (employee) => {\r\n    return async dispatch => {\r\n    try {\r\n        \r\n        const response = await axios.get(\r\n            `${API_URL}api/cabs`, \r\n        {\r\n            headers:{\"Authorization\": `Bearer ${localStorage.getItem('token')}`,\r\n        \"employee\": employee}\r\n        }\r\n        )\r\n        console.log(response)\r\n        dispatch(setAvailableCabs(response.data))\r\n    } catch (e) {\r\n        console.log(e?.response?.data?.message)\r\n    }\r\n    }\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}