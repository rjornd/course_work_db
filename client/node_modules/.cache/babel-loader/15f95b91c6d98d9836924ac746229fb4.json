{"ast":null,"code":"import axios from 'axios';\nimport { API_URL } from '../config';\nimport { setEmployees } from '../reducers/employeeReducer';\nexport const getEmployees = () => {\n  return async dispatch => {\n    try {\n      const response = await axios.get(`${API_URL}api/employees`, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      dispatch(setEmployees(response.data.employees));\n      localStorage.setItem('token', response.data.token);\n      throw response;\n    } catch (e) {\n      localStorage.removeItem('token');\n      console.log(e);\n    }\n  };\n};","map":{"version":3,"sources":["C:/course_work_db/client/src/actions/employees.js"],"names":["axios","API_URL","setEmployees","getEmployees","dispatch","response","get","headers","Authorization","localStorage","getItem","data","employees","setItem","token","e","removeItem","console","log"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,WAAxB;AACA,SAASC,YAAT,QAA6B,6BAA7B;AAEA,OAAO,MAAMC,YAAY,GAAI,MAAM;AAC/B,SAAO,MAAMC,QAAN,IAAkB;AACzB,QAAI;AAEA,YAAMC,QAAQ,GAAG,MAAML,KAAK,CAACM,GAAN,CAClB,GAAEL,OAAQ,eADQ,EAEvB;AACIM,QAAAA,OAAO,EAAC;AAACC,UAAAA,aAAa,EAAG,UAASC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8B;AAAxD;AADZ,OAFuB,CAAvB;AAOAN,MAAAA,QAAQ,CAACF,YAAY,CAACG,QAAQ,CAACM,IAAT,CAAcC,SAAf,CAAb,CAAR;AACAH,MAAAA,YAAY,CAACI,OAAb,CAAqB,OAArB,EAA8BR,QAAQ,CAACM,IAAT,CAAcG,KAA5C;AACA,YAAMT,QAAN;AACH,KAZD,CAYE,OAAOU,CAAP,EAAU;AACRN,MAAAA,YAAY,CAACO,UAAb,CAAwB,OAAxB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYH,CAAZ;AACH;AACA,GAjBD;AAkBH,CAnBM","sourcesContent":["import axios from 'axios'\r\nimport { API_URL } from '../config'\r\nimport { setEmployees } from '../reducers/employeeReducer'\r\n\r\nexport const getEmployees =  () => {\r\n    return async dispatch => {\r\n    try {\r\n        \r\n        const response = await axios.get(\r\n            `${API_URL}api/employees`, \r\n        {\r\n            headers:{Authorization: `Bearer ${localStorage.getItem('token')}`}\r\n        }\r\n        )\r\n        \r\n        dispatch(setEmployees(response.data.employees))\r\n        localStorage.setItem('token', response.data.token);\r\n        throw response\r\n    } catch (e) {\r\n        localStorage.removeItem('token');\r\n        console.log(e)\r\n    }\r\n    }\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}